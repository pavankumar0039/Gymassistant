<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://kit.fontawesome.com/20c5629a29.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body style="background-color: rgb(233, 231, 231);">
    <header>
        <div class="navbar">

            <div class="nlcontainer">
                <i class="fa fas fa-solid fa-bars bars" style="font-size: x-large;"></i>
                <div class="name">
                    <p class="hpara">Gym</p>
                    <p class="hpara1">Assistant</p>
                </div>
            </div>

        </div>

    </header>

    <div class="sidebar">
        <div class="scontainer1">
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">

                        <i class="fa fas fa-solid fa-house-user ic" style="font-size: larger;margin-right: 1rem; width: 2rem;"></i>
                        <p class="spara1">Home</p>

                    </div>

                </div>

            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">
                        <i class="fa fas fa-solid fa-dumbbell ic" style="font-size: large;margin-right: 1rem;width: 2rem;">

                        </i>
                        <p class="spara1">Training</p>

                    </div>
                    <i class="fa fas fa-solid fa-angle-down clik1"></i>
                    <i class="fa fas fa-regular fa-angle-up clik2"></i>

                </div>
                <div class="suboptinons">
                    <p class="sop1 sop">Workouts</p>
                    <p class="sop2 sop">Myworkouts</p>
                    <p class="sop3 sop">Generators</p>
                </div>
            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">

                        <i class="fa fas fa-solid fa-toolbox ic" style="font-size:larger;margin-right: 1rem;width: 2rem;"></i>
                        <p class="spara1">Tools</p>

                    </div>
                    <i class="fa fas fa-solid fa-angle-down clik1"></i>
                    <i class="fa fas fa-regular fa-angle-up clik2"></i>
                </div>
                <div class="suboptinons">
                    <p class="sop1 sop">Calori Calculator</p>
                    <p class="sop2 sop">Macro Calculator</p>
                    <p class="sop3 sop">One Rep Max Cal</p>
                </div>
            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">
                        <i class="fa fas fa-solid fa-dumbbell ic" style="font-size: large;margin-right: 1rem;width: 2rem;">

                        </i>
                        <p class="spara1">Diet</p>

                    </div>
                    <i class="fa fas fa-solid fa-angle-down clik1"></i>
                    <i class="fa fas fa-regular fa-angle-up clik2"></i>
                </div>
                <div class="suboptinons">
                    <p class="sop1 sop">Muscle Gain</p>
                    <p class="sop2 sop">Fat Loss</p>

                </div>

            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">

                        <i class="fa fas fa-regular fa-chart-bar ic" style="font-size: large;margin-right: 1rem;width: 2rem;"></i>
                        <p class="spara1">Routines</p>

                    </div>

                </div>

            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">

                        <i class="fa fas fa-solid fa-newspaper ic" style="font-size: large;margin-right: 1rem;width: 2rem;"></i>
                        <p class="spara1">Articals</p>

                    </div>

                </div>

            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav">
                    <div class="scont1">

                        <i class="fa fas fa-regular fa-address-card ic"
                            style="font-size: larger;margin-right: 1rem;"></i>
                        <p class="spara1">Register</p>

                    </div>

                </div>

            </div>
            <div class="sidencont">
                <div class="trainingicon sidenav" style="margin-bottom: 1rem;">
                    <div class="scont1">

                        <i class="fa fas fa-solid fa-share ic" style="font-size: large;margin-right: 1rem;width: 2rem;"></i>
                        <p class="spara1">login</p>

                    </div>

                </div>

            </div>



        </div>


    </div>

    <main class="main1">

        <div class="rightsidebar">


        </div>

        <div class="heading">
            <h1 style="font-size:4rem;color: rgb(92, 92, 201) !important;"> Workout</h1>

        </div>



        <div class="mcont">
        </div>
        <footer
            style="width: 100%;height: 5rem;display: flex;justify-content: center;align-items: center;margin-top: 4rem;background-color: white;border-radius: 6px;">
            <p
                style="font-size: x-large;font-weight: 500;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;color: blueviolet;">
                Workout @copyright</p>

        </footer>
    </main>

</body>
<script>
    var clik1 = document.getElementsByClassName("clik1")
    var clik2 = document.getElementsByClassName("clik2")
    var subopts = document.getElementsByClassName("suboptinons")

    for (let i = 0; i < clik1.length; i++) {
        clik1[i].addEventListener('click', (e) => {

            e.preventDefault();

            subopts[i].classList.add("clicked");
            clik1[i].classList.add("clicked1");
            clik2[i].classList.add("clicked2");



        })
        clik2[i].addEventListener('click', (e) => {

            e.preventDefault();


            subopts[i].classList.remove("clicked");
            clik1[i].classList.remove("clicked1");
            clik2[i].classList.remove("clicked2");




        })
    }
    var bars = document.querySelector(".bars");
    var sidenav = document.querySelector(".sidebar")
    var spara1 = document.querySelectorAll(".spara1")
    var ic = document.getElementsByClassName("ic")
    var main1 = document.querySelector(".main1")
    var sop = document.getElementsByClassName("sop")
    var clc2 = document.getElementsByClassName("clik2")
    var temp = 0;
    bars.addEventListener('click', (e) => {
        e.preventDefault()
        if (temp === 0) {
            sidenav.classList.add("clicked3")
            for (var i = 0; i < spara1.length; i++) {
                spara1[i].classList.add("clicked3")
            }
            for (var i = 0; i < clik1.length; i++) {
                clik1[i].classList.add("clicked3")
            }
            for (var i = 0; i < ic.length; i++) {
                ic[i].classList.add("clicked3")
            }
            main1.classList.add("clicked3")
            for (var i = 0; i < sop.length; i++) {
                sop[i].classList.add("clicked3")
            }
            for (var i = 0; i < clc2.length; i++) {
                clc2[i].classList.add("clicked3")
            }
            temp = 1;
        }
        else if (temp === 1) {
            sidenav.classList.remove("clicked3")
            for (var i = 0; i < spara1.length; i++) {
                spara1[i].classList.remove("clicked3")
            }
            for (var i = 0; i < clik1.length; i++) {
                clik1[i].classList.remove("clicked3")
            }
            for (var i = 0; i < ic.length; i++) {
                ic[i].classList.remove("clicked3")
            }
            main1.classList.remove("clicked3")
            for (var i = 0; i < sop.length; i++) {
                sop[i].classList.remove("clicked3")
            }
            for (var i = 0; i < clc2.length; i++) {
                clc2[i].classList.remove("clicked3")
            }
            temp = 0;

        }

    })
    var sscont2 = document.getElementsByClassName('sscont2');
    var tcont = document.getElementsByClassName('tcont');

    for (let i = 0; i < sscont2.length; i++) {
        sscont2[i].addEventListener('click', (e) => {
            e.preventDefault();
            sscont2[i].classList.add('clicked')
            setInterval(() => {
                tcont[0].classList.add('clicked')

            }, 500)

        })
    }
    var mpara2 = document.getElementsByClassName("mpara2");

    for (var i = 0; i < mpara2.length; i++) {
        mpara2[i].addEventListener('click', (e) => {
            e.preventDefault();


        })
    }



    const workoutsData = []
    const gettingWorkouts = async (work) => {

        try {
            const response = await fetch('http://localhost:7000/api/getworkoutdetails', {
                method: "GET",
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            const json = await response.json();

            if (json.success === true) {
                workoutsData.push(...json.data);
                alert(json.message);
            }

        } catch (error) {
            console.log(error.message);
        }
        populatingworkoutspage(workoutsData, work);
    };


    function populatingworkoutspage(workoutsData, work) {
        var str = `
      <div class="mcont1">
                <div class="mcont2">
                    <div class="mcont3">
                        <div>
                            <h1>${work} Workouts</h1>
                            <h3
                                style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;color: rgb(87, 87, 182);">
                                Do Best</h3>
                        </div>
                        <div class="mimg">


                        </div>
                    </div>


                </div>
                <div class="mcont4">
                    <div class="mcont8">
                        <h2>Profile</h2>
                        <div class="mcont7">
                            <div class="mcont5">
                                <p class="mpara1">Equipment</p>
                                <p class="mpara2">3 Selected </p>
                            </div>
                            <div class="mline">

                            </div>
                            <div class="mcont6">
                                <p class="mpara1">1RM (Deadlift)</p>
                                <p class="mpara2">35kg </p>
                            </div>
                        </div>
                    </div>

                </div>
                 <h2 class="mconth1">5 Exercises</h2>`
        var str1 = "";
        var cnt = 0;
        for (let ele of workoutsData) {
            if (ele.focusarea.includes(work)) {
                if (cnt > 5) {
                    break;
                }
                str1 += `  <div class="mcont10">
                    <div data-key=${ele._id}  class="mcont9">
                        <div class="mcont9img">

                        </div>
                        <div class="mcont9name">
                            <p class="m9p">${ele.name}</p>
                            <p class="m9p1">4 Sets x 8 reps</p>
                        </div>
                    </div>

                </div>`;
                cnt++;
            }
        }

        var str2 = `</div>`
        var str = str + str1 + str2;
        var mcont = document.querySelector('.mcont');
        mcont.innerHTML = str;
        var mpara2 = document.getElementsByClassName('mpara2');
        var eqp = document.getElementsByClassName('eqp');
        for (let i = 0; i < mpara2.length; i++) {
            mpara2[i].addEventListener('click', (e) => {
                e.preventDefault();
                window.location.href = "./equipment.html"
            })

        }
        var mcont9 = document.getElementsByClassName("mcont9");
        for (let i = 0; i < mcont9.length; i++) {
            mcont9[i].addEventListener('click', async (e) => {
                e.preventDefault()
                let id = mcont9[i].getAttribute('data-key');
                let str=''
                let rightsidebar = document.querySelector(".rightsidebar");
                rightsidebar.classList.add("clicked")
                for (let ele of workoutsData) {

                    if (ele._id === id) {
                       
                         str = `  <div class="minrightsidebar">
                          <svg class='crossbar' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
                              <div class="videocontianer">

                   </div>
                  <div class="namecontainer">
                    <p class="nametag">Name:

                    </p>
                    <p class="name1">${ele.name}</p>
                  </div>
                  <div class="namecontainer">
                    <p class="nametag">Focusarea:

                    </p>
                    <p class="name1">${ele.focusarea}</p>
                  </div>
                   <div class="namecontainer">
                    <p class="nametag">Equipment:

                    </p>
                    <p class="name1">${ele.equipment}</p>
                  </div>
                  <div class="namecontainer1">
                    <p class="nametag1">Preparation

                    </p>
                    <p class="name2">${ele.preparation}</p>
                  </div>
                   <div class="namecontainer1">
                        <p class="nametag1">Execution

                    </p>
                    <p class="name2">${ele.execution}</p>
                   </div>
                   <div class="namecontainer1">
                    <p class="nametag1">Tips

                    </p>
                    <p class="name2">${ele.keytips}</p>
                   </div>


                        </div>`
                        break;

                    }
                }
                rightsidebar.innerHTML=str;
                let crossbar=document.querySelector(".crossbar");
                crossbar.addEventListener('click',(e)=>{
                    e.preventDefault();
                    rightsidebar.classList.remove("clicked")
                })

            })
        }

    }

    gettingWorkouts(localStorage.getItem("workout"));
    console.log(localStorage.getItem("workout"))



</script>

</html>